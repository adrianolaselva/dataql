# DataQL E2E Test Environment Variables
# Source this file or use with docker-compose --env-file

# ============================================
# PostgreSQL
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=25432
POSTGRES_USER=dataql
POSTGRES_PASSWORD=dataql_pass
POSTGRES_DB=dataql_test

# Connection URL for tests
DATAQL_TEST_POSTGRES_URL=postgres://dataql:dataql_pass@localhost:25432/dataql_test/test_data

# ============================================
# MySQL
# ============================================
MYSQL_HOST=localhost
MYSQL_PORT=23306
MYSQL_USER=dataql
MYSQL_PASSWORD=dataql_pass
MYSQL_DB=dataql_test

# Connection URL for tests
DATAQL_TEST_MYSQL_URL=mysql://dataql:dataql_pass@localhost:23306/dataql_test/test_data

# ============================================
# MongoDB
# ============================================
MONGODB_HOST=localhost
MONGODB_PORT=27117
MONGODB_USER=dataql
MONGODB_PASSWORD=dataql_pass
MONGODB_DB=dataql_test

# Connection URL for tests
DATAQL_MONGODB_URL=mongodb://dataql:dataql_pass@localhost:27117/dataql_test/users?authSource=admin
DATAQL_TEST_MONGODB_URL=mongodb://dataql:dataql_pass@localhost:27117/dataql_test/users?authSource=admin
DATAQL_TEST_MONGODB=1

# ============================================
# Kafka
# ============================================
KAFKA_BOOTSTRAP_SERVERS=localhost:29092
KAFKA_TEST_TOPIC=dataql-test-topic

# Connection URL for tests
DATAQL_TEST_KAFKA_URL=kafka://localhost:29092/dataql-test-topic
KAFKA_BROKERS=localhost:29092
KAFKA_TOPIC=dataql-test-topic

# ============================================
# LocalStack (AWS Services)
# ============================================
# General AWS endpoint for LocalStack
AWS_ENDPOINT_URL=http://localhost:24566
AWS_ENDPOINT_URL_S3=http://localhost:24566
AWS_ENDPOINT_URL_SQS=http://localhost:24566

# AWS Credentials for LocalStack
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
AWS_DEFAULT_REGION=us-east-1
AWS_REGION=us-east-1

# S3 test URLs
DATAQL_TEST_S3_BUCKET=dataql-test-bucket
DATAQL_TEST_S3_CSV=s3://dataql-test-bucket/fixtures/simple.csv
DATAQL_TEST_S3_JSON=s3://dataql-test-bucket/fixtures/people.json
DATAQL_TEST_S3_JSONL=s3://dataql-test-bucket/fixtures/data.jsonl

# SQS test URLs
# Note: Using full URL format for LocalStack compatibility
# The simple format (sqs://queue-name?region=X) calls GetQueueUrl which returns
# an internal LocalStack URL that's not accessible from the host
DATAQL_TEST_SQS_QUEUE=dataql-test-queue
DATAQL_TEST_SQS_URL=sqs://http://localhost:24566/000000000000/dataql-test-queue

# DynamoDB test URLs
AWS_ENDPOINT_URL_DYNAMODB=http://localhost:24566
DATAQL_TEST_DYNAMODB_TABLE=dataql-test-table
DATAQL_TEST_DYNAMODB_URL=dynamodb://us-east-1/dataql-test-table?endpoint=http://localhost:24566

# ============================================
# Redis (Optional)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=26379

# ============================================
# Test Configuration
# ============================================
DATAQL_E2E_TIMEOUT=120s
DATAQL_E2E_VERBOSE=true
